<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <style>
    img {
      width: 200px;
      margin-top: 30px;
    }
    .container {
      width: 100%;
      display: flex;
    }
    #main {
      width: 50%;
      height: auto;
    }
  </style>
  <body>
    <div class="container">
      <div id="main"></div>
      <div id="main_2"></div>
    </div>
  </body>
</html>

<script>
  let data = [
    {
      img: "https://assets.aboutamazon.com/dims4/default/62656bb/2147483647/strip/false/crop/2000x1125+0+0/resize/1486x836!/quality/90/?url=https%3A%2F%2Famazon-blogs-brightspot.s3.amazonaws.com%2F55%2Fb7%2F715e834f4e7aa847edc236373c3d%2Ffreevee-hero-2000x1125.jpg",
      details: "ugoiyvgdilyfgwif",
      price: 20000,
    },
    {
      img: "https://sg.sharp/sites/default/files/uploads/4%20Best%20Reasons%20Why%20TVs%20Can%20Improve%20Your%20Lifestyle-%20SHARP%20Malaysia.jpg",
      details: "ugoiyvgdilyfgwif",
      price: 20000,
    },
  ];
  

  data.map((el) => {
    let storeData = document.createElement("div");

    let img = document.createElement("img");
    img.setAttribute("src", el.img);

    let discription = document.createElement("p");
    discription.innerHTML = el.details;

    let priceoftv = document.createElement("h4");
    priceoftv.innerHTML = el.price;

    let btn = document.createElement("button");
    btn.innerHTML = "add to card";
    btn.addEventListener("click", function () {
      addtocart(el);
    });

    storeData.append(img, discription, priceoftv, btn);

    document.getElementById("main").append(storeData);
  });

  let storage = [];

  function addtocart(el) {
    storage.push(el);
    document.getElementById("main_2").innerHTML = "";
    storage.map((el) => {
      let com = document.createElement("div");

      let img = document.createElement("img");
      img.setAttribute("src", el.img);

      let discription = document.createElement("p");
      discription.innerHTML = el.details;

      let priceoftv = document.createElement("h4");
      priceoftv.innerHTML = el.price;

      let value = 0; // initial value for quantity
      
      let qty = document.createElement("span");
      qty.innerHTML = value;

      let qtybtn_1 = document.createElement("button");
      qtybtn_1.innerHTML = "-";
      qtybtn_1.addEventListener("click", function () {
        if (value > 0) {
          value--; 
          qty.innerHTML = value;
        }
      });

      let qtybtn_2 = document.createElement("button");
      qtybtn_2.innerHTML = "+";
      qtybtn_2.addEventListener("click", function () {
        value++; 
        qty.innerHTML = value;
      });

      com.append(img, discription, priceoftv, qtybtn_1, qty, qtybtn_2);

      document.getElementById("main_2").append(com);
    });
  }

</script>
